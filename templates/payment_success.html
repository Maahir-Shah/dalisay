{% load static %}
{% csrf_token %}
<!doctype html>
<html lang="en">
	<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
	<!-- Font Awesome Icons -->
	<script src="https://kit.fontawesome.com/91b553d820.js" crossorigin="anonymous"></script>
	<title>Dalisay - Sinfully Pure</title>

	<!-- Favicon -->
	<link rel="apple-touch-icon" sizes="180x180" href="{%static 'favicon_io/apple-touch-icon.png'%}">
	<link rel="icon" type="image/png" sizes="32x32" href="{%static 'favicon_io/favicon-32x32.png'%}">
	<link rel="icon" type="image/png" sizes="16x16" href="{%static 'favicon_io/favicon-16x16.png'%}">
	<link rel="manifest" href="{%static 'favicon_io/site.webmanifest'%}">

	<!-- Fonts-->
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&display=swap" rel="stylesheet">

	</head>

	<style>
		/* Change font of entire website */
		body {
			font-family: 'Crimson Text', serif !important;
			font-size: 18px;
		}
		
		/* Change color of highlighting in the website*/
		::-moz-selection { background: #ec215057; }
		::selection { background: #ec215057; }
	
		/* Background of website */
		.backdrop {
			background-image: url("{%static 'images/marble_backdrop.jpg'%}");
		}
	
		/* Logo on the fixed navbar */
		.corner_logo {
			position: absolute;
			z-index: 4;
		}
	
		/* Fixed Navabar at top on pages other than homepage */
		#fixed_navbar {
			height: 50px;
			background: #fffbfb;
			z-index: 3;
		}
	
		/* Font of Dalisay main logo */
		@font-face {
			font-family: 'dalisay_main_font';
			src: url("{%static 'fonts/dalisay_logo_font.ttf'%}");
		}

		/* Styling the outermost checkout layout */
		.checkout_layout {
			background: #fffbfb;
			border-radius: 20px;
			border: 2px solid #ec215079;
		}
	
		/* Styling the layout of each item in the order */
		.shopping_cart_item {
			background-color: white;
			box-shadow: 0px 3px 11px 0px rgba(0,0,0,0.04);
		}

		/* Styling any text to be added as a gradient */
		.text {
			background: linear-gradient(to right, #ec2151 , #f3592e);
			-webkit-background-clip: text;
			background-clip: text;
			-webkit-text-fill-color: transparent;
			padding: 0.2em;
		  }
	</style>
	<body class="backdrop">
		<a class="corner_logo" href="../home">
			<img class="mt-2" src="{% static 'images/dalisay_logo_no_bg.png'%}" height="40" alt="">
		</a>
		<div id="fixed_navbar" class="container-fluid">
		</div>

		<div class="checkout_layout container mt-4 mb-4">
			<div class="row justify-content-center">
				<div class="col-11 col-lg-8 mt-3 mb-3" style="background: none; height: 100%">
					<div class="mt-3 mb-2 col-12 text-center text"><h2>Thank You For Placing Your Order With Dalisay!</h2></div>
					<div class="mb-2 justify-content-center text-left">
						<strong>TRANSACTION ID: {{txnid}}</strong><br>
						Your Payment was Successful! We have received a payment of Rs {{amount}}. Please review your Order and Delivery 
						Details below.<br>
						Please contact us in case of any discrepanies or if you have any questions.
					</div>
					<div class="justify-content-center text-center">
						<strong>PLEASE SAVE THIS INFORMATION FOR YOUR REFERENCE</strong>
					</div>
					<div class="justify-content-center text-center">
						<button class="col-8 col-md-6 col-lg-4 mt-2 btn btn-danger text-center" type="submit">
							<a href="../home" style="color: #fffbfb;"><div class="mt-2 mb-2" style="font-size: 19px;"> Return to Homepage </div></a>
						</button>
					</div>

					<div class="col-12 mt-4">
						<div class="mt-2 text" style="color: black !important;">
							<h3>Review Your Order Details</h3>
						</div>
						<hr color="red">
						<h4 class="ml-2"> YOUR ORDER</h4>
					</div>

					<div class="order_items col-12">
						<div id="shopping_cart_item_template" class="collapse">
							<div class="row mb-3 shopping_cart_item_template">
								<div class="shopping_cart_item col-12 d-flex">
									<div class="mt-2 mb-2 col-8 compress_info">
										<h6>
											<strong id="shopping_cart_item_name" style="font-size: 19px;">Product Name</strong>
											<a class="expand_products_toggle ml-1 fas fa-angle-down fa-lg" data-toggle="collapse" role="button" aria-expanded="false" aria-controls="product_details" style="color: red;"></a>
										</h6>
										<div id="shopping_cart_item_category" style="font-size: 18px;">
											Product Category
										</div>
										<div id="product_details" class="collapse">
											<div id="shopping_cart_item_description" class="text-muted mb-1" style="font-size: 16px;">
												Product Description
											</div>
											<div id="product_tags" class="d-inline">
												<span id="shopping_cart_item_vegan" class="mr-3 mb-2 fas fa-leaf fa-sm"></span>
							
												<span id="shopping_cart_item_gluten_free" class="mr-3 mb-3 fab fa-glide-g fa-sm"></span>
													
												<span id="shopping_cart_item_customizable" class="mr-3 mb-2 fas fa-info fa-sm"></span>
											</div>
										</div>
									</div>
									<div id="shopping_cart_item_quantity" class="mt-3 mb-3 col-1 col-sm-2 text-left">
										Item Quantity <!-- Quantity of Item -->
									</div>
									<div id="shopping_cart_item_total" class="mt-3 mb-3 col-3 col-sm-2 text-left">
										Item Total <!-- Total Item Price-->
									</div>
								</div>
							</div>
						</div>
						<div id="shopping_cart_items">
							<!-- Items added to cart-->
							{% for item in order_items %}
								<div class="row mb-3">
									<div class="shopping_cart_item col-12 d-flex">
										<div class="mt-2 mb-2 col-8 compress_info">
											<h6>
												<strong id="shopping_cart_item_name" style="font-size: 19px;">{{item.product.name}}</strong>
												<a class="expand_products_toggle ml-1 fas fa-angle-down fa-lg" data-toggle="collapse" role="button" aria-expanded="false" aria-controls="product_details" style="color: red;"></a>
											</h6>
											<div id="shopping_cart_item_category" style="font-size: 18px;">
												{{item.product.category}}
											</div>
											<div id="product_details" class="collapse">
												<div id="shopping_cart_item_description" class="text-muted mb-1" style="font-size: 16px;">
													{{item.product.description}}
												</div>
												<div id="product_tags" class="d-inline">
													{% if item.product.vegan %}
													<span id="shopping_cart_item_vegan" class="mr-3 mb-2 fas fa-leaf fa-sm"></span>
													{% endif %}
								
													{% if item.product.gluten_free %}
													<span id="shopping_cart_item_gluten_free" class="mr-3 mb-3 fab fa-glide-g fa-sm"></span>
													{% endif %}
														
													{% if item.product.customizable %}
													<span id="shopping_cart_item_customizable" class="mr-3 mb-2 fas fa-info fa-sm"></span>
													{% endif %}
												</div>
											</div>
										</div>
										<div id="shopping_cart_item_quantity" class="mt-3 mb-3 col-1 col-sm-2 text-left">
											{{item.quantity}} <!-- Quantity of Item -->
										</div>
										<div id="shopping_cart_item_total" class="mt-3 mb-3 col-3 col-sm-2 text-left">
											{{item.get_item_total}} <!-- Total Item Price-->
										</div>
									</div>
								</div>
							{% endfor %}
							<!-- End Items added to cart-->
						</div>
						<div class="justify-content-center">
							<div class="col-12">
								<strong>Order Note</strong>

								<div class="text-muted mb-2" style="font-size: 17px;">
									{% if order.note == '' %}
									No Note To Add
									{% else %}
									{{order.note}}
									{% endif %}
								</div>
								
								<strong>Hamper</strong>

								{% if order.hamper %}
								<div class="row mb-2">
									<div class="col-10 text-muted">
										Yes
									</div>
									<div id="shopping_cart_item_hamper_price" class="col-1 text-right">
										{{order.hamper_price}} <!-- Price of hamper -->
									</div>
								</div>
								{% else %}
								<div class="text-muted mb-2">
									No
								</div>
								{% endif %}

								<strong> Delivery</strong>
								<div class="row mb-2">
									<div class="col-10 text-muted" style="font-size: 17px;">
										Delivery Cost
									</div>
									<div id="shopping_cart_item_delivery_price" class="col-1 text-right">
										<span>
											{% if order.total < 2500 %}
											200
											{% else %}
											0
											{% endif %}
										</span>
									</div>
									<div class="col-12 text-muted text-left" style="font-size: 14px;">
										We offer free delivery for orders above Rs. 2500
									</div>
									<br>
								</div>

								<strong>Refunds and Returns</strong>
								<div class="text-muted text-left" style="font-size: 17px;">
									Please note that we do not offer Refunds for orders <br>
									However, if you do receive a damaged or contaminated product, please contact us immediately and we will gladly replace it.<br>
									Please read our <a class="text-muted" href="../policies/delivery_returns_refunds_policy/" style="color: black;"><u>Delivery, Returns and Refunds Policy</u></a> to learn more
								</div>
							</div>
						</div>
					</div>


					<div class="col-12 mt-2 shopping_cart_item">
						<div class="d-flex">
							<div class="col-10 mt-3 mb-2">
								<strong>Order Items</strong>
							</div>
							<div id="shopping_cart_number_of_items" class="mt-3 mb-2 col-3 col-sm-2 text-left ml-3">
								{{order.number_of_items}} <!-- Total No. of items-->
							</div>
						</div>
						<div class="d-flex">
							<div class="col-10 mt-2 mb-3">
								<strong>Order Total</strong>
							</div>
							<div id="shopping_cart_order_total" class="mt-2 mb-3 col-3 col-sm-2 text-left">
								{{order.total_with_delivery}} <!-- Cart Total-->
							</div>
						</div>
					</div>

					<div class="col-12 mt-4">
						<div class="mt-2 text" style="color: black !important;">
							<h3>Review Your Delivery Details</h3>
						</div>
						<hr color="red">

						<div class="justify-content-center">
							<div class="col-12">
								<h4 class="ml-2">DELIVERY INFORMATION</h4>
								<div class="ml-2 mb-2" style="font-size: 17px;">
									<strong>Name: &#160</strong> <span class="text-muted"> {{delivery_details.name}}</span><br>
									<strong>Email: &#160</strong> <span class="text-muted"> {{delivery_details.email}}</span><br>
									<strong>Phone Number: &#160</strong> <span class="text-muted"> {{delivery_details.phone_number}}</span><br>
									<strong>Address: &#160</strong> <span class="text-muted"> {{delivery_details.address}}</span><br>
									<strong>City: &#160</strong> <span class="text-muted"> {{delivery_details.city}}</span><br>
									<strong>Postal Code: &#160</strong> <span class="text-muted"> {{delivery_details.postal_code}}</span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- jQuery first, then Popper.js, then Bootstrap JS -->
		<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>

		<!-- Javascript for Functionality of Payment Success Page -->
		<script type="text/javascript" src= "{% static 'js/payment_success_2.js' %}"></script>

		<!-- Optional JavaScript -->
		<script type="text/javascript">
		</script>
	</body>
</html>